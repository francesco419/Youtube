Youtue API

===1===

API=KEY 숨기기.

- dotenv를 사용하여 API_KEY를 github에서 확인할수 없도로 설정.

- dotenv는 react-create-app을 사용 할 시에 같이포함되어 있기에 따로 설치할 필요가 없다.

momentjs사용

- 유튜브의 올린시간을 계산 및 표시하기위한 라이브러리

===2===

Header 및 Sidemenu 컴포넌트화.

탐색페이지 제작. Header와 Sidemenu를 하나의 컴포넌트인 Menu에 넣음으로서 매번 페이지 제작시에 간단하게 불러올 수 있도록 함.

링크사용시 현재 페이지의 데이터를 state를 사용해 이동할 페이지로 데이터를 보내는 방법을 사용하여 JSON파일을 매번 로드 할 필요가 없도록 설정.

        <Link className={styles.inner} to="/Search" state={json}> </Link>

링크에서 state를 통해 이동할 페이지에 데이터를 보내고

        import { useLocation } from 'react-router-dom';
        let location = useLocation();
        const json = location.state;

과 같은 방법으로 이동된 페이지에서 useLocation을 통하여 받은 state데이터를 사용할 수 있게 된다.

원래 JSON이 필요할 때마다 매번 fetch를 통해 가져올 구성이었으나 불필요한 작업을 최소화 하기 위해 위 방법을 사용하였다.

제작하는 페이지마다 썸네일, 제목 등등의 요소의 배치 방식이 다르므로, 불러오는 페이지에서 매개변수format을 VIdeo파일에 받아 format의 true , false를 통해 어떠한 배치방식을 보여줄지 설정하도록 하였다.

- 2.1

동영상 클릭시 동영상 뷰 페이지인 ShowVideo 페이지 제작

- 2.2

ShowVideo페이지 제작 완료

===3===

채널페이지제작단계

이전에 제작했던 헤더 및 사이드메뉴 컴포넌트 추가.

API를 사용하여 베너이미지, 로고, 채널이름 구독자수 등의 정보를 가져옴.

채널페이지에서 홈, 동영상 재생목록 등 6개의 탭 메뉴 제작.

TabContent컴포넌트를 통해 각 메뉴마다 지정되어있는 tab State를 클릭시 변경 및 랜더링하는 방식으로 탭 페이지가 전환되는것을 유도하였다.

각 카테고리마다 각각의 페이지를 제작할 예정.

- 3.1 홈카테고리

Channel -> ChannelHome -> Playlist -> PlaylistVideo 순서로 메뉴 탭중 '홈'카테고리의 페이지를 제작하였다.

Channel.js에서 채널ID를 Link 컴포넌트 매개변수로 받아와 이를 통해 API를 호출. 채널의 Tralier Video에 대한 ID를 받아 다시 Video API를 사용해 하나의 동영상이 Channel페이지에서 Trailer로서 보여지도록 했다.

채널마다 짧게는 5개 길게는 10개이상의 플레이리스트와 각 플레이리스트의 동영상들이 보여지는 구조를 가지고있어, 각 플레이리스트를 만들어줄 Playlist.js 컴포넌트를 제작하였다.

반복되는 구조가 있는 페이지는 되도록이면 컴포넌트를 만들어 중복되지않고 재사용하는 방식을 사용하였다.

Playlist.js에서도 각 플레이리스트 마다 12개의 영상을 나열하는 방식이므로 각 영상을 제작하는 PlaylistVideo.js 컴포넌트를 제작하였다.

다만 이후 API를 불러오는 과정에서 데이터가 없는 플레이리스트가 로드되거나 혹은 thumbnail없는 (아직 유튜브에 정식으로 등록되지 않거나 다른이유로 인해 제목은 "Private video"가 되고 썸네일 데이터는 전혀 등록되지않은) 영상도 API를 통해 같이 로드되는 방식으로 인해, 이러한 부분을 알지 못한 상황에서 오류를 찾는데에 꽤나 많은 시간이 소요, 문제가 생길 수 있는 데이터들을 거를수 있는 코드를 추가하였다.

데이터가 없는 플레이리스트는, 로드 시 플레이리스트의 동영상 데이터가 저장된 items배열의 길이가 2이상이 되지 않을 경우 state에 데이터를 저장하지 않음으로 ChannelHome페이지에 로드시 오류를 발생시키도록 하지 않도록 설정 하고, 썸네일이 없을 경우에는 삼항연산자를 사용해 다른 이미지를 대체하도록 하였다.

=오류 및 개선점=
(플레이리스트가 없는 채널은 플레이리스트가 안뜨는 상황 발생.) -로딩애니메이션 사용. 이후 로딩애니메이션이 없어지면서 display:none 적용
(간단한 로딩 애니메이션 필요.) -제작완료
(플레이리스트의 width에 따른 버튼추가 및 이동방식 설정 필요.)

- 3.2 동영상 카테고리

이전 3.1에서 제작한 PlaylistVideo 컴포넌트를 사용하여 쉽게 제작.

API = search / channelID 를 통해 채널에 해당하는 모든 영상 로드.

=오류 및 개선점=
플레이리스트 및 ShowVideos페이지에서 나열된 동영상을 클릭시 state로 전달하는 매개변수가 달라지게 되어 API로드에서 오류를 발생. ShowVideos 페이지의 로드실패 및 오류 발생. 매개변수의 데이터에 따라 유연한 코드처리 필요.

- 3.3 재생목록 카테고리

ChannelPlaylist 컴포넌트 제작.

비교적 간단한 작업이라 각 플레이리스트를 보여주는 컨포넌트를 따로제작하지 않고, 페이지내부에 포함제작.

API에서 각 플레이리스트에 존재하는 영상 수에 대한 데이터가 없음.

썸네일 이미지에 (영상 수를 게시하려던)오버레이 및 마우스 hover오버레이 제작.

커뮤니티 및 내러 카테고리는 API로 받을 수 없기에 제작할 수 없음.

\*정보 탭 제작완료.

===4===

- 4.1

fetch를 통한 API호출을 axios를 사용하여 대채하는 작업중.

ShowVideo에서 다른 동영상을 라우터의 Link를 사용할시 url은 바뀌지만 랜더링이 다시 일어나지는 않는 상황 발생.

오류 수정 및 페이지를 추가 제작하다보니 API할당량의 계속 초과되는중
